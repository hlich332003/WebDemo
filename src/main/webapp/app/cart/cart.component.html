<h1>üõí Gi·ªè h√†ng c·ªßa b·∫°n</h1>

<div *ngIf="cart.length === 0" class="empty-cart-container">
  <p>üõí Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng</p>
  <a routerLink="/products" class="btn btn-primary">Mua s·∫Øm ngay</a>
</div>

<div *ngIf="cart.length > 0" class="cart-page-container">
  <div class="cart-items-list">
    <div class="cart-header">
      <input type="checkbox" [(ngModel)]="isAllSelected" (ngModelChange)="onSelectAllToggle()" />
      <span>Ch·ªçn t·∫•t c·∫£ ({{ cart.length }} s·∫£n ph·∫©m)</span>
    </div>

    <div class="cart-item" *ngFor="let item of cart">
      <input type="checkbox" [(ngModel)]="item.selected" (ngModelChange)="onItemToggle()" />
      <img [src]="item.image" [alt]="item.name" class="item-image" />
      <div class="item-details">
        <h4 class="item-name">{{ item.name }}</h4>
        <p class="item-price">{{ formatPrice(item.price) }}</p>
      </div>
      <div class="quantity-controls">
        <button (click)="updateQuantity(item.id, item.quantity - 1)" [disabled]="item.quantity <= 1">‚àí</button>
        <span class="item-quantity">{{ item.quantity }}</span>
        <button (click)="updateQuantity(item.id, item.quantity + 1)">+</button>
      </div>
      <div class="item-total-price">
        {{ formatPrice(cartService.getNumericPrice(item.price) * item.quantity) }}
      </div>
      <button (click)="remove(item.id)" class="remove-item-btn">üóëÔ∏è</button>
    </div>
  </div>

  <div class="cart-summary-card">
    <h2>T√≥m t·∫Øt ƒë∆°n h√†ng</h2>
    <div class="summary-row">
      <span>T·ªïng ph·ª•:</span>
      <span>{{ formatPrice(total) }}</span>
    </div>
    <div class="summary-row total">
      <strong>T·ªïng c·ªông:</strong>
      <strong>{{ formatPrice(total) }}</strong>
    </div>
    <div class="cart-actions-summary">
      <a routerLink="/products" class="btn btn-secondary">‚Üê Ti·∫øp t·ª•c mua s·∫Øm</a>
      <button [disabled]="total === 0" routerLink="/checkout" class="btn btn-primary">Thanh to√°n ‚Üí</button>
    </div>
  </div>
</div>
